<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html>
<html>
  <head>
    <title>IATI C19 filtering demo</title>
    <link rel="stylesheet" href="style.css"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta charset="UTF-8" />
    <script src="lib/hxl.js"></script>
    <script src="script.js" defer="defer"></script>
  </head>
  <body>
    <h1>IATI C19 filtering demo</h1>
    <section id="filters">
      <h2>Filters</h2>
      <form>
        <label>
          <span>Strict only?</span>
          <input name="strict" id="form.strict" type="checkbox" onchange="this.form.submit()"/>
        </label>
        <label>
          <span>Humanitarian only?</span>
          <input name="humanitarian" id="form.humanitarian" type="checkbox" onchange="this.form.submit()"/>
        </label>
        <label>
          <span>Org</span>
          <select name="org" id="form.org" onchange="this.form.submit()">
            <option>Loading...</option>
          </select>
        </label>
        <label>
          <span>Sector</span>
          <select name="sector" id="form.sector" onchange="this.form.submit()">
            <option>Loading...</option>
          </select>
        </label>
        <label>
          <span>Country</span>
          <select name="country" id="form.country" onchange="this.form.submit()">
            <option>Loading…</option>
          </select>
        </label>
        <label>
          <span>Month</span>
          <select name="month" id="form.month" onchange="this.form.submit()">
            <option>Loading...</option>
          </select>
        </label>
        <button type="submit">Update results</button>
        <a class="reset" href=".">Reset</a>
      </form>
    </section>
    <section id="results">
      <h2>Results</h2>
      <dl class="figures">
        <dt>Matching orgs</dt>
        <dd id="org_count">Loading…</dd>
        <dt>Matching sectors</dt>
        <dd id="sector_count">Loading…</dd>
        <dt>Matching countries</dt>
        <dd id="country_count">Loading…</dd>
        <dt>Matching activities</dt>
        <dd id="activity_count">Loading…</dd>
        <dt>Net new commitments (USD)</dt>
        <dd id="net_commitments">Loading…</dd>
        <dt>Total commitments (USD)</dt>
        <dd id="total_commitments">Loading…</dd>
        <dt>Net new spending (USD)</dt>
        <dd id="net_spending">Loading…</dd>
        <dt>Total spending (USD)</dt>
        <dd id="total_spending">Loading…</dd>
      </dl>
    </section>
    <section id="top">
      <h2>Top 10 lists</h2>
      <div class="items">
        <div class="item">
          <h3>Top matching orgs</h3>
          <ol id="top.orgs">
            Loading…
          </ol>
        </div>
        <div class="item">
          <h3>Top matching sectors</h3>
          <ol id="top.sectors">
            Loading…
          </ol>
        </div>
        <div class="item">
          <h3>Top matching countries</h3>
          <ol id="top.countries">
            Loading…
          </ol>
        </div>
      </div>
    </section>
    <section id="downloads">
      <h2>Downloads</h2>
      <dl>
        <dt>CSV (spreadsheet)</dt>
        <dd><a href="data/transactions.csv" target="_blank">transactions.csv</a></dd>
        <dt>JSON (row-oriented)</dt>
        <dd><a href="data/transactions.json" target="_blank">transactions.json</a></dd>
        <dt>JSON (list of objects)</dt>
        <dd><a href="https://proxy.hxlstandard.org/data/617b19/download/transactions.objects.json" target="_blank">transactions.objects.json</a></dd>
      </dl>
    </section>
  </body>
</html>
